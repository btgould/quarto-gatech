/*-- scss:defaults --*/

// <!-- Primary Colors -->
$tech-gold: #b3a369 !default;
$navy-blue: #003057 !default;
$white: #ffffff !default;

// <!-- Accessible Tech Gold (For fonts on white backgrounds) -->
$tech-medium-gold: #a4925a !default;
$tech-dark-gold: #857437 !default;

// <!-- Secondary Colors -->
$gray-matter: #54585a !default;
$pi-mile: #d6dbd4 !default;
$diploma: #f9f6e5 !default;
$buzz-gold: #eaaa00 !default;

// <!-- Tertiary Colors -->
// <!-- CMYK-Based Tertiaries -->
$impact-purple: #5f249f !default;
$bold-blue: #3a5dae !default;
$olympic-teal: #008c95 !default;
$electric-blue: #64ccc9 !default;
$canopy-lime: #a4d233 !default;
$rat-cap: #ffcd00 !default;
$new-horizon: #e04f39 !default;

$tertiaries : ("purple": $impact-purple,
  "blue": $bold-blue,
  "teal": $olympic-teal,
  "electric": $electric-blue,
  "canopy": $canopy-lime,
  "cap": $rat-cap,
  "horizon": $new-horizon,
);

// <!-- RGB-Based Tertiaries ("Brights") -->
$bright-purple: #7800ff !default;
$bright-blue: #2961ff !default;
$bright-electric: #00ffff !default;
$bright-canopy: #00ec9c !default;
$bright-buzz: #ffcc00 !default;
$bright-horizon: #ff640f !default;

$brights : ("purple": $bright-purple,
  "blue": $bright-blue,
  "electric": $bright-electric,
  "canopy": $bright-canopy,
  "buzz": $bright-buzz,
  "horizon": $bright-horizon,
);

$navy-stroke: #171543 !default;
$pi-mile-stroke: #808080 !default;
$yellow: #fed76e !default;

$font-family-sans-serif: "Roboto" !default;

$body-color: $navy-blue !default;

$callout-color-note: $yellow !default;
$callout-color-tip: $canopy-lime !default;
$callout-color-caution: $new-horizon !default;
$callout-color-warning: $rat-cap !default;
$callout-color-important: $electric-blue !default;


$br-default: 10px;
$padding-default: 5px;
$margin-default: 5px;
$opacity-default: 0.5;

/*-- scss:rules --*/

.reveal .backgrounds .quarto-title-block {
  background-image: url("../../../../../assets/background_title.png");
  background-size: cover;
}

.reveal .backgrounds .title-slide {
  background-image: url("../../../../../assets/background_section_blank.jpg");
  background-size: cover;
}

.reveal .backgrounds {
  background-image: url("../../../../../assets/background_slide.png");
  background-size: cover;
}

.reveal .slides .pdf-page .slide-background.quarto-title-block {
  background-image: url("../../../../../assets/background_title.png");
  background-size: cover;
}

.reveal .slides .pdf-page .slide-background.title-slide.slide {
  background-image: url("../../../../../assets/background_section_blank.jpg");
  background-size: cover;
}

.reveal .slides .pdf-page .slide-background.slide {
  background-image: url("../../../../../assets/background_slide.png");
  background-size: cover;
}

.reveal .slides blockquote {
  color: $gray-matter;
  border-left: 4px solid $buzz-gold;
}

// Custom classes 


.horiz {
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;
}

@each $color, $value in $brights {
  .hl-#{$color} {
    margin: $margin-default;
    padding: $padding-default;
    border-radius: $br-default;
    background-color: rgba($value, $opacity-default);
  }

  .reveal .slides section .fragment.hl-#{$color} {
    background-color: rgba(0, 0, 0, 0);
  }

  .reveal .slides section .fragment.hl-#{$color}.visible {
    background-color: rgba($value, $opacity-default);
  }
}

// ============================================================================
// PER-SLIDE CITATION REFERENCES
// ============================================================================
// Styles the reference list that appears at the bottom of slides with citations.
// This feature is enabled by slide-refs.js which clones references from the
// References slide and appends them to individual content slides.
//
// POSITIONING STRATEGY:
// - Uses absolute positioning with a very low bottom value (10px)
// - Footnotes are positioned higher (bottom: 80px) via .reveal section aside rule
// - This creates the visual order: content → footnotes → citations
// - Both use absolute positioning to stay at the bottom of slides
//
// VISUAL DESIGN:
// - Semi-transparent white background to ensure readability over slide backgrounds
// - Border separator to visually distinguish from main slide content
// - Smaller font size (0.45em) to be unobtrusive
// - Lower z-index (5) than footnotes (10) so footnotes appear on top
//
// CUSTOMIZATION EXAMPLES:
// - To move citations up/down: adjust bottom value (smaller = lower on slide)
// - To change left/right position: adjust left/right values
// - To make darker/lighter: modify rgba() alpha value (0.95 = 95% opaque)
// - To change text size: adjust font-size (em units scale with parent)
// - To change separator: modify border-top color/width
// - To remove background: set background: transparent
// - To adjust footnote position: modify bottom in .reveal section aside rule
//
.reveal .slide-references {
  // Use absolute positioning at the very bottom of the slide
  // Footnotes typically position higher, so this ensures citations appear below them
  position: absolute;
  bottom: 0px; // Very close to bottom edge (lower than footnotes)
  left: -5%; // Distance from left edge
  right: 15%; // Distance from right edge

  // Typography - small and readable
  font-size: 0.45em; // ~45% of normal slide text size
  line-height: 1.3; // Tighter line spacing for compactness

  // Visual separation from main content
  border-top: 2px solid $pi-mile; // Top border acts as separator
  padding-top: 8px; // Space between border and text

  // Background to ensure readability over slide backgrounds/images
  // Uses semi-transparent white (95% opaque)
  background: rgba(255, 255, 255, 0.250);

  // Layer above backgrounds but below footnotes
  z-index: 5;

  // Individual reference entry styling
  // Each reference is a .csl-entry div
  .csl-entry {
    text-align: left; // Left-align text (even if slide content is centered)
    margin-bottom: 3px; // Small gap between multiple references
    line-height: 1.3; // Compact line spacing
  }

  // CSL (Citation Style Language) splits references into two parts:
  // 1. .csl-left-margin: The citation number [1], [2], etc.
  // 2. .csl-right-inline: The actual reference text (author, title, etc.)
  //
  // By default these are block elements (stack vertically).
  // We make them inline so they flow horizontally: [1] Author, Title...

  .csl-left-margin {
    display: inline; // Flow inline with reference text
    margin-right: 4px; // Small space between [1] and reference text
  }

  .csl-right-inline {
    display: inline; // Flow inline with citation number
  }
}

// Position footnotes above citations
// Footnotes should appear higher on the slide than citation references
// Only apply when there are also citations (slide-references) on the slide
.reveal .slides section.level2 aside {
  position: absolute !important;
  bottom: 160px !important; // Higher than citations (which are at 10px)
  // left: 60px !important;
  // right: 60px !important;
  // max-width: calc(100% - 120px) !important;
  // z-index: 10 !important; // Above citations and slide content
  // display: block !important; // Ensure it's visible
  // opacity: 1 !important; // Ensure it's not transparent
}